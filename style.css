html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  overflow:hidden;
  background:transparent;
  font-family:system-ui, sans-serif;
}

body{ touch-action: manipulation; }
canvas{ touch-action: none; }

canvas{
  position:fixed;
  inset:0;
  z-index:1;
  background:transparent;
}

.toolbar{
  display:none;
}

body[data-mode="draw"] .toolbar{
  display:flex;
  position:fixed;
  top:12px;
  bottom:12px;
  left:12px;
  width:88px;
  z-index:20;
  flex-direction:column;
  gap:8px;
  padding:8px;
  border-radius:16px;
  background:rgba(0,0,0,0.6);
  backdrop-filter:blur(10px);
  color:#fff;
}

.toolbar.min{ width:56px; }

.toolbar-top{
  display:flex;
  justify-content:space-between;
}

.icon-btn{
  background:none;
  color:#fff;
  border:none;
  font-size:20px;
}

.tool-btn,
.swatch,
#btnUndo,
#btnClear{
  height:36px;
  border-radius:10px;
  border:none;
  background:rgba(255,255,255,0.15);
  color:#fff;
}

.tool-btn.active{ background:rgba(255,255,255,0.35); }

.palette{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:6px;
}

.swatch{ background:var(--c); }

input[type="range"],
input[type="color"]{
  width:100%;
}

.toolbar-footer{
  margin-top:auto;
  font-size:12px;
}

.dot{
  width:10px;
  height:10px;
  border-radius:50%;
  display:inline-block;
  background:red;
}

.room{
  word-break:break-all;
}

.danger{
  background:rgba(255,60,60,0.5);
}

.fatal{
  position:fixed;
  top:12px;
  left:12px;
  right:12px;
  background:rgba(255,0,0,0.6);
  color:#fff;
  padding:12px;
  border-radius:12px;
  z-index:50;
}
.hidden{ display:none; }
